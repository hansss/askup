
<div class="container">
  <br>
  <h3 class="center"><b>Questions</b></h3><br>

 <% if @question_limitations != "true" %>
  <div id = "all-mine-filter" class="btn-group" data-toggle="buttons">
    <label class="btn btn-primary active" id="mine-radio">
      <input type="radio" name="options"  autocomplete="off"> Mine
    </label>
    <label class="btn btn-primary" id="other-radio">
      <input type="radio" name="options" autocomplete="off" checked> Other
    </label>
  </div>
  <% end %>

  <% collapse_count = 1 %>

  <div class = "question_list">
  <% @questions.each do |question| %>    
      <% if question['user_id'] == current_user.id %>
    <div class = "panel-group my-question">
      <% else %>
    <div class = 'panel-group other-question hidden'>
      <% end %>
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">
            <div class="row valign">
              <div class="col-sm-11">
                <!-- Make this link to a modal, not a new page -->
                <a data-toggle="modal" data-target="#question_display_Modal" data-answer="<%question["answers"][0]["text"]%>" data-question="<%= question["text"]%>"><%= question["text"]%>
                </a> 
          <!-- </div>
                 <b><%= link_to question["text"], "/questions/#{question["id"]}" %></b> 
            </div>  -->

              <div class="col-sm-1">
                <!-- <a class="btn btn-theme btn-sm collapsed" style="margin-left:8px;cursor:pointer;" data-target=<%= "#collapse#{collapse_count}" %> data-toggle="collapse">
                  Reveal
                </a> -->
              </div>
          </h4>
        </div>
      <div id=<%= "collapse#{collapse_count}" %> class="panel-collapse collapse">
        <div class="panel-body">
          <% if question["answers"][0] %>
            <%= question["answers"][0]["text"] %>
          <% end %>
        </div>
      </div>
    </div>
    </div>
      <% collapse_count += 1 %>
    <% end %>
  </div>
<br>
</div>

                <!-- Defines how the modal will look -->
<div class="modal fade" id="question_display_Modal" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title"></h4>
      </div>
      <div class="modal-body">
        <form accept-charset="UTF-8" action="/questions/question["id"]/answers" class="new_answer" data-remote="true" id="new_answer" method="post"><div style="display:none"><input name="utf8" type="hidden" value="âœ“"></div>

            <textarea class="form-control" id="answer_text" name="answer[text]" placeholder="Type your answer here"></textarea>

            <div class="center btn-div">
              <input class="btn btn-theme btn-lg" id="submit_answer" name="commit" type="submit" value="Submit answer" style="display">
            </div>
        </form>

        <!-- <div class="prettyform">
          <div class="container newanswer">
            <div id="answers" class="box center" style="display: block;">
               <h3>Correct Answer</h3>
            <div class="correct_div">
                <h4 class="correct"><% %></h4>
            </div>
            </div>
          </div>
        </div> -->
        
      </div>

    </div>
  </div>
</div>

